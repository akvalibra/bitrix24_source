{"version":3,"file":"entity-catalog.bundle.js","sources":["../src/directives/feedback.js","../src/components/group.js","../src/components/group-list.js","../src/components/main-groups.js","../src/components/item-list-advice.js","../src/components/button.js","../src/components/item.js","../src/components/item-list.js","../src/components/main-content.js","../src/components/titlebar-filter.js","../src/components/search.js","../src/components/application.js","../src/entity-catalog.js"],"sourcesContent":["import {Event} from \"main.core\";\nimport \"ui.feedback.form\";\n\nexport const feedback = {\n\tbeforeMount(element: HTMLElement, bindings): void\n\t{\n\t\tEvent.bind(element, 'click', (event) => {\n\t\t\tevent.preventDefault();\n\n\t\t\tBX.UI.Feedback.Form.open(bindings.value);\n\t\t});\n\t}\n};\n","import { Type } from 'main.core';\nimport { GroupData } from '@/types/group';\n\nimport '../css/group.css';\n\nexport const Group = {\n\temits: ['selected', 'unselected'],\n\n\tname: 'ui-entity-catalog-group',\n\tprops: {\n\t\tgroupData: {\n\t\t\ttype: GroupData,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\thasIcon(): boolean\n\t\t{\n\t\t\treturn Type.isStringFilled(this.groupData.icon);\n\t\t},\n\t},\n\tmethods: {\n\t\thandleClick()\n\t\t{\n\t\t\tthis.$emit(!this.groupData.selected ? 'selected' : 'unselected', this.groupData);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<slot name=\"group\" v-bind:groupData=\"groupData\" v-bind:handleClick=\"handleClick\">\n\t\t\t<li \n\t\t\t\t:class=\"{\n\t\t\t\t\t'ui-entity-catalog__menu_item': true,\n\t\t\t\t\t'--active': groupData.selected,\n\t\t\t\t\t'--disabled': groupData.disabled\n\t\t\t\t}\"\n\t\t\t\t@click=\"handleClick\"\n\t\t\t>\n\t\t\t\t<span class=\"ui-entity-catalog__menu_item-icon\" v-if=\"hasIcon\" v-html=\"groupData.icon\"/>\n\t\t\t\t<span class=\"ui-entity-catalog__menu_item-text\">{{ groupData.name }}</span>\n\t\t\t</li>\n\t\t</slot>\n\t`,\n};","import { Group } from './group';\nimport type { GroupData } from '@/types/group';\n\nimport '../css/group-list.css';\n\nexport const GroupList = {\n\temits: ['groupSelected', 'groupUnselected'],\n\n\tname: 'ui-entity-selector-group-list',\n\tcomponents: {\n\t\tGroup,\n\t},\n\tprops: {\n\t\tgroups: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tmethods: {\n\t\thandleGroupSelected(group: GroupData)\n\t\t{\n\t\t\tthis.$emit('groupSelected', group);\n\t\t},\n\t\thandleGroupUnselected(group: GroupData)\n\t\t{\n\t\t\tthis.$emit('groupUnselected', group);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<ul class=\"ui-entity-catalog__menu\">\n\t\t\t<Group\n\t\t\t\t:group-data=\"group\"\n\t\t\t\t:key=\"group.id\"\n\t\t\t\tv-for=\"group in groups\"\n\t\t\t\t@selected=\"handleGroupSelected\"\n\t\t\t\t@unselected=\"handleGroupUnselected\"\n\t\t\t>\n\t\t\t\t<template #group=\"groupSlotProps\">\n\t\t\t\t\t<slot\n\t\t\t\t\t\tname=\"group\"\n\t\t\t\t\t\tv-bind:groupData=\"groupSlotProps.groupData\"\n\t\t\t\t\t\tv-bind:handleClick=\"groupSlotProps.handleClick\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t</Group>\n\t\t</ul>\n\t`,\n}","import { Loc } from 'main.core';\nimport { GroupList } from './group-list';\n\nimport { GroupData } from '@/type/group';\n\nimport '../css/main-groups.css';\n\nexport const MainGroups = {\n\temits: ['groupSelected'],\n\n\tname: 'ui-entity-catalog-main-groups',\n\tcomponents: {\n\t\tGroupList,\n\t},\n\tprops: {\n\t\trecentGroupData: {\n\t\t\ttype: GroupData,\n\t\t\trequired: false,\n\t\t},\n\t\tgroups: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tshowRecentGroup: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tsearching: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t}\n\t},\n\tdata(): Object\n\t{\n\t\tconst recentGroup = this.getRecentGroup();\n\t\trecentGroup[0] = Object.assign(recentGroup[0], this.recentGroupData ?? {});\n\n\t\tlet selectedGroup = this.groups.find(group => group.selected) ?? null;\n\t\tif (!selectedGroup)\n\t\t{\n\t\t\tselectedGroup = recentGroup.find(group => group.selected) ?? null;\n\t\t}\n\n\t\treturn {\n\t\t\tshownGroups: this.groups,\n\t\t\tselectedGroup: null,\n\t\t\trecentGroup,\n\t\t};\n\t},\n\twatch: {\n\t\tselectedGroup(newGroup: ?GroupData)\n\t\t{\n\t\t\tconst newGroupId = newGroup ? newGroup.id : null;\n\n\t\t\tthis.shownGroups = this.shownGroups.map(groupList => groupList.map((group) => ({\n\t\t\t\t...group,\n\t\t\t\tselected: group.id === newGroupId,\n\t\t\t})));\n\n\t\t\tif (this.showRecentGroup && newGroupId !== this.recentGroup[0].id)\n\t\t\t{\n\t\t\t\tthis.recentGroup = [Object.assign(this.recentGroup[0], {selected: false})];\n\t\t\t}\n\n\t\t\tthis.$emit('groupSelected', newGroup);\n\t\t},\n\t},\n\tbeforeUpdate()\n\t{\n\t\tif (this.searching)\n\t\t{\n\t\t\tthis.shownGroups = this.shownGroups.map(groupList => groupList.map((group) => ({\n\t\t\t\t...group,\n\t\t\t\tselected: false,\n\t\t\t})));\n\n\t\t\tthis.recentGroup = [Object.assign(this.recentGroup[0], {selected: false})];\n\t\t}\n\t},\n\tmethods:{\n\t\tgetRecentGroup(): Array<GroupData>\n\t\t{\n\t\t\treturn [{\n\t\t\t\tid: 'recent',\n\t\t\t\tname: Loc.getMessage('UI_JS_ENTITY_CATALOG_GROUP_LIST_RECENT_GROUP_DEFAULT_NAME'),\n\t\t\t\ticon: `\n\t\t\t\t\t<svg width=\"18\" height=\"14\" viewBox=\"0 0 18 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t<path class=\"ui-entity-catalog__svg-icon-blue\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.369 13.2593C13.0305 13.2593 15.9986 10.2911 15.9986 6.62965C15.9986 2.9682 13.0305 0 9.369 0C6.00693 0 3.22939 2.50263 2.79764 5.74663H0L3.69844 9.44506L7.39687 5.74663H4.48558C4.90213 3.4276 6.93006 1.66789 9.369 1.66789C12.1093 1.66789 14.3308 3.88935 14.3308 6.62965C14.3308 9.36995 12.1093 11.5914 9.369 11.5914C9.2435 11.5914 9.11909 11.5867 8.99593 11.5776V13.249C9.11941 13.2558 9.2438 13.2593 9.369 13.2593ZM10.0865 4.01429H8.41983V8.18096H9.65978H10.0865H12.1195V6.56367H10.0865V4.01429Z\"></path>\n\t\t\t\t\t</svg>\n\t\t\t\t`,\n\t\t\t}];\n\t\t},\n\t\thandleGroupSelected(group: GroupData)\n\t\t{\n\t\t\tthis.selectedGroup = group;\n\t\t},\n\t\thandleRecentGroupSelected(group: GroupData)\n\t\t{\n\t\t\tgroup.selected = true;\n\t\t\tthis.selectedGroup = group;\n\t\t},\n\t\thandleGroupUnselected()\n\t\t{\n\t\t\tthis.selectedGroup = null;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"ui-entity-catalog__main-groups\">\n\t\t\t<div class=\"ui-entity-catalog__main-groups-head\">\n\t\t\t\t<slot name=\"group-list-header\"/>\n\t\t\t</div>\n\t\t\t<div class=\"ui-entity-catalog__recently\" v-if=\"showRecentGroup\">\n\t\t\t\t<GroupList\n\t\t\t\t\t:groups=\"recentGroup\"\n\t\t\t\t\t@groupSelected=\"handleRecentGroupSelected\"\n\t\t\t\t\t@groupUnselected=\"handleGroupUnselected\"\n\t\t\t\t>\n\t\t\t\t\t<template #group=\"groupSlotProps\">\n\t\t\t\t\t\t<slot\n\t\t\t\t\t\t\tname=\"group\"\n\t\t\t\t\t\t\tv-bind:groupData=\"groupSlotProps.groupData\"\n\t\t\t\t\t\t\tv-bind:handleClick=\"groupSlotProps.handleClick\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</template>\n\t\t\t\t</GroupList>\n\t\t\t</div>\n\t\t\t<div class=\"ui-entity-catalog__main-groups-content\">\n\t\t\t\t<GroupList\n\t\t\t\t\t:groups=\"groupList\"\n\t\t\t\t\tv-for=\"groupList in shownGroups\"\n\t\t\t\t\t@groupSelected=\"handleGroupSelected\"\n\t\t\t\t\t@groupUnselected=\"handleGroupUnselected\"\n\t\t\t\t>\n\t\t\t\t\t<template #group=\"groupSlotProps\">\n\t\t\t\t\t\t<slot\n\t\t\t\t\t\t\tname=\"group\"\n\t\t\t\t\t\t\tv-bind:groupData=\"groupSlotProps.groupData\"\n\t\t\t\t\t\t\tv-bind:handleClick=\"groupSlotProps.handleClick\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</template>\n\t\t\t\t</GroupList>\n\t\t\t</div>\n\t\t\t<div class=\"ui-entity-catalog__main-groups-footer\">\n\t\t\t\t<slot name=\"group-list-footer\"/>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};","import { Type, Dom } from 'main.core';\nimport { GroupData } from '@/types/group';\nimport { Advice } from 'ui.advice';\n\nexport const ItemListAdvice = {\n\tname: 'ui-entity-catalog-item-list-advice',\n\tprops: {\n\t\tgroupData: {\n\t\t\ttype: GroupData,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tgetAvatar: function(): string\n\t\t{\n\t\t\treturn (\n\t\t\t\tType.isStringFilled(this.groupData.adviceAvatar)\n\t\t\t\t\t? this.groupData.adviceAvatar\n\t\t\t\t\t: '/bitrix/js/ui/entity-catalog/images/ui-entity-catalog--nata.jpg'\n\t\t\t);\n\t\t},\n\t},\n\n\tmethods: {\n\t\trenderAdvice() {\n\t\t\tDom.clean(this.$refs.container);\n\n\t\t\tconst advice = new Advice({\n\t\t\t\tcontent: this.groupData.adviceTitle,\n\t\t\t\tavatarImg: this.getAvatar,\n\t\t\t\tanglePosition: Advice.AnglePosition.BOTTOM,\n\t\t\t});\n\n\t\t\tadvice.renderTo(this.$refs.container);\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.renderAdvice();\n\t},\n\n\tupdated() {\n\t\tthis.renderAdvice();\n\t},\n\n\ttemplate: `\n\t\t<div ref=\"container\"></div>\n\t`,\n};","import { Loc, Type } from 'main.core';\nimport { BaseEvent } from 'main.core.events';\nimport { ButtonData } from '@/types/button';\n\nimport '../css/button.css';\n\nexport const Button = {\n\tname: 'ui-entity-catalog-button',\n\tprops: {\n\t\tbuttonData: {\n\t\t\ttype: ButtonData,\n\t\t\trequired: true,\n\t\t},\n\t\teventData: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tbuttonText(): string\n\t\t{\n\t\t\treturn (\n\t\t\t\tType.isStringFilled(this.buttonData.text)\n\t\t\t\t\t? this.buttonData.text\n\t\t\t\t\t: Loc.getMessage('UI_JS_ENTITY_CATALOG_ITEM_DEFAULT_BUTTON_TEXT')\n\t\t\t);\n\t\t},\n\t},\n\tmethods: {\n\t\thandleButtonClick(pointerEvent)\n\t\t{\n\t\t\tconst event = new BaseEvent({\n\t\t\t\tdata: {\n\t\t\t\t\teventData: this.eventData,\n\t\t\t\t\toriginalEvent: pointerEvent,\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (Type.isFunction(this.buttonData.action))\n\t\t\t{\n\t\t\t\tthis.buttonData.action.call(this, event);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"ui-entity-catalog__option-btn-block\">\n\t\t\t<div class=\"ui-entity-catalog__btn\" @click=\"handleButtonClick\">{{buttonText}}</div>\n\t\t</div>\n\t`\n};","import { Type } from 'main.core';\nimport { Button } from './button';\nimport { ItemData } from '@/types/item';\nimport { ButtonData } from '@/types/button';\n\nimport '../css/item.css';\n\nexport const Item = {\n\tname: 'ui-entity-catalog-item',\n\tcomponents:{\n\t\tButton,\n\t},\n\tprops: {\n\t\titemData: {\n\t\t\ttype: ItemData,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tbuttonData(): ButtonData\n\t\t{\n\t\t\tif (!Type.isPlainObject(this.itemData.button))\n\t\t\t{\n\t\t\t\tthis.itemData.button = {};\n\t\t\t}\n\n\t\t\treturn this.itemData.button;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<slot name=\"item\" v-bind:itemData=\"itemData\">\n\t\t\t<div class=\"ui-entity-catalog__option\">\n\t\t\t\t<div class=\"ui-entity-catalog__option-info\">\n\t\t\t\t\t<div class=\"ui-entity-catalog__option-info_name\">\n\t\t\t\t\t\t<span>{{itemData.title}}</span>\n\t\t\t\t\t\t<span class=\"ui-entity-catalog__option-info_label\" v-if=\"itemData.subtitle\">{{itemData.subtitle}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-entity-catalog__option-info_description\">\n\t\t\t\t\t\t{{itemData.description}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Button :buttonData=\"buttonData\" :event-data=\"itemData\"/>\n\t\t\t</div>\n\t\t</slot>\n\t`,\n}\n","import { Item } from './item';\n\nimport '../css/item-list.css';\n\nexport const ItemList = {\n\tname: 'ui-entity-selector-item-list',\n\tcomponents: {\n\t\tItem,\n\t},\n\tprops: {\n\t\titems: {\n\t\t\tType: Array,\n\t\t\trequired: true,\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"ui-entity-catalog__content --help-block\" v-if=\"items.length <= 0\">\n\t\t\t<slot name=\"empty-group-stub\">\n\t\t\t\t<div class=\"ui-entity-catalog__empty-content\">\n\t\t\t\t\t<div class=\"ui-entity-catalog__empty-content_icon\">\n\t\t\t\t\t\t<img src=\"/bitrix/js/ui/entity-catalog/images/ui-entity-catalog--search-icon.svg\" alt=\"Choose a grouping\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-entity-catalog__empty-content_text\">\n\t\t\t\t\t\t<slot name=\"empty-group-stub-title\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</slot>\n\t\t</div>\n\t\t<div class=\"ui-entity-catalog__content\" v-else>\n\t\t\t<div class=\"ui-entity-catalog__options\">\n\t\t\t\t<Item \n\t\t\t\t\t:item-data=\"item\"\n\t\t\t\t\t:key=\"item.id\"\n\t\t\t\t\tv-for=\"item in items\"\n\t\t\t\t>\n\t\t\t\t\t<template #item=\"itemSlotProps\">\n\t\t\t\t\t\t<slot name=\"item\" v-bind:itemData=\"itemSlotProps.itemData\"/>\n\t\t\t\t\t</template>\n\t\t\t\t</Item>\n\t\t\t</div>\n\t\t</div>\n\t`,\n}","import { Type } from 'main.core';\nimport { GroupData } from '@/types/group';\nimport { ItemListAdvice } from './item-list-advice';\nimport { ItemList} from './item-list';\n\nimport '../css/main-content.css';\n\nexport const MainContent = {\n\tname: 'ui-entity-catalog-main-content',\n\tcomponents: {\n\t\tItemListAdvice,\n\t\tItemList,\n\t},\n\tprops: {\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t\tgroup: {\n\t\t\ttype: GroupData,\n\t\t\trequired: true,\n\t\t},\n\t\tsearching: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\tshowAdvice(): boolean\n\t\t{\n\t\t\treturn this.group && Type.isStringFilled(this.group.adviceTitle) && !this.searching;\n\t\t},\n\t\tshowNoSelectedGroupStub(): boolean\n\t\t{\n\t\t\treturn !this.group && !this.searching;\n\t\t},\n\t\tshowSearchStub(): boolean\n\t\t{\n\t\t\treturn this.searching && (this.items.length <= 0);\n\t\t},\n\t\tshowSeparator(): boolean\n\t\t{\n\t\t\treturn this.showAdvice && (this.items.length <= 0);\n\t\t},\n\t},\n\tbeforeUpdate()\n\t{\n\t\tthis.$refs.content.scrollTop = 0;\n\t},\n\ttemplate: `\n\t\t<div class=\"ui-entity-catalog__main-content\">\n\t\t\t<div class=\"ui-entity-catalog__main-content-head\">\n\t\t\t\t<slot name=\"main-content-header\"/>\n\t\t\t</div>\n\t\t\t<ItemListAdvice v-if=\"showAdvice\" :groupData=\"group\" />\n\n\t\t\t<hr class=\"ui-entity-catalog__main-separator\" v-if=\"showSeparator\">\n\n\t\t\t<div class=\"ui-entity-catalog__main-content-body\" ref=\"content\">\n\t\t\t\t<slot name=\"main-content-no-selected-group-stub\" v-if=\"showNoSelectedGroupStub\"/>\n\t\t\t\t<slot name=\"main-content-search-stub\" v-else-if=\"showSearchStub\">\n\t\t\t\t\t<div class=\"ui-entity-catalog__content --help-block\">\n\t\t\t\t\t\t<div class=\"ui-entity-catalog__empty-content\">\n\t\t\t\t\t\t\t<div class=\"ui-entity-catalog__empty-content_icon\">\n\t\t\t\t\t\t\t\t<img src=\"/bitrix/js/ui/entity-catalog/images/ui-entity-catalog--search-icon.svg\" alt=\"Choose a grouping\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"ui-entity-catalog__empty-content_text\">\n\t\t\t\t\t\t\t\t<slot name=\"main-content-search-not-found-stub\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</slot>\n\t\t\t\t<ItemList v-else :items=\"items\">\n\t\t\t\t\t<template #empty-group-stub>\n\t\t\t\t\t\t<slot name=\"main-content-empty-group-stub\"/>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template #empty-group-stub-title>\n\t\t\t\t\t\t<slot name=\"main-content-empty-group-stub-title\"/>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template #item=\"itemSlotProps\">\n\t\t\t\t\t\t<slot name=\"item\" v-bind:itemData=\"itemSlotProps.itemData\"/>\n\t\t\t\t\t</template>\n\t\t\t\t</ItemList>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};","import { Dom, Tag, Text, Loc } from 'main.core';\nimport { BaseEvent } from 'main.core.events';\nimport { MenuItemOptions, MenuManager, Menu } from 'main.popup';\n\nimport type { FilterData } from '@/types/filter'\n\nimport '../css/titlebar-filter.css';\n\nexport const TitleBarFilter = {\n\temits: ['onApplyFilters'],\n\tname: 'ui-entity-catalog-titlebar-filter',\n\tprops: {\n\t\tfilters: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmultiple: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tappliedFilters: this.getAppliedFilters(),\n\t\t\tallFilters: this.filters,\n\t\t};\n\t},\n\tmethods: {\n\t\tshowMenu(): Menu\n\t\t{\n\t\t\tMenuManager.create({\n\t\t\t\tid: 'ui-entity-catalog-titlebar-filter-menu',\n\t\t\t\tbindElement: this.$el,\n\t\t\t\tminWidth: 271,\n\t\t\t\tautoHide: true,\n\t\t\t\tcontentColor: 'white',\n\t\t\t\tdraggable: false,\n\t\t\t\tcacheable: false,\n\t\t\t\titems: this.getItems(),\n\t\t\t}).show();\n\t\t},\n\t\tgetItems(): MenuItemOptions[]\n\t\t{\n\t\t\tconst items = [];\n\n\t\t\tfor (const key in this.allFilters)\n\t\t\t{\n\t\t\t\tconst html = Tag.render`\n\t\t\t\t\t<div style=\"display: flex\">\n\t\t\t\t\t\t<div>${Text.encode(this.filters[key].text)}</div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\tif (this.allFilters[key].applied)\n\t\t\t\t{\n\t\t\t\t\tDom.append(Tag.render`<div class=\"ui-entity-catalog__filter-block_selected\"></div>`, html);\n\t\t\t\t}\n\n\t\t\t\titems.push({\n\t\t\t\t\thtml,\n\t\t\t\t\tonclick: (event, item) => {\n\t\t\t\t\t\tif (this.allFilters[key].applied)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdelete this.appliedFilters[this.allFilters[key].id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!this.multiple)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.clearAllAction();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.appliedFilters[this.allFilters[key].id] = this.allFilters[key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.allFilters[key].applied = !this.allFilters[key].applied;\n\t\t\t\t\t\tthis.$emit('onApplyFilters', new BaseEvent({data: this.appliedFilters}));\n\n\n\t\t\t\t\t\titem.getMenuWindow().close();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\titems.push({\n\t\t\t\tdelimiter: true,\n\t\t\t});\n\n\t\t\titems.push(this.getClearAllFilter());\n\n\t\t\treturn items;\n\t\t},\n\t\tgetClearAllFilter(): MenuItemOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\thtml: `\n\t\t\t\t\t<div style=\"display: flex\">\n\t\t\t\t\t\t<div>${Loc.getMessage('UI_JS_ENTITY_CATALOG_RESET_FILTER')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t`,\n\t\t\t\tonclick: (event, item) => {\n\t\t\t\t\tthis.clearAllAction();\n\t\t\t\t\tthis.$emit('onApplyFilters', new BaseEvent({data: this.appliedFilters}));\n\n\t\t\t\t\titem.getMenuWindow().close();\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tclearAllAction()\n\t\t{\n\t\t\tthis.appliedFilters = {};\n\t\t\tthis.allFilters = this.allFilters.map(filter => ({...filter, applied: false}));\n\t\t},\n\t\tgetAppliedFilters(): Object<string, FilterData>\n\t\t{\n\t\t\tconst appliedFilters = {};\n\n\t\t\tfor (const key in this.filters)\n\t\t\t{\n\t\t\t\tif (this.filters[key].applied)\n\t\t\t\t{\n\t\t\t\t\tappliedFilters[this.filters[key].id] = this.filters[key];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (Object.keys(appliedFilters).length > 0)\n\t\t\t{\n\t\t\t\tthis.$emit('onApplyFilters', new BaseEvent({data: appliedFilters}));\n\t\t\t}\n\n\t\t\treturn appliedFilters;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div \n\t\t\t:class=\"{\n\t\t\t\t'ui-entity-catalog__titlebar_btn-filter': true,\n\t\t\t\t'--active': Object.keys(appliedFilters).length > 0\n\t\t\t}\"\n\t\t\t@click=\"showMenu\">\n\t\t</div>\n\t`,\n};","import { BaseEvent } from 'main.core.events';\nimport { Loc, debounce, Type } from 'main.core';\n\nexport const Search = {\n\temits: ['onSearch'],\n\tname: 'ui-entity-catalog-titlebar-search',\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\topened: false,\n\t\t\tdebounceSearchHandler: null,\n\t\t\tqueryString: '',\n\t\t\tshowClearSearch: false,\n\t\t};\n\t},\n\twatch:{\n\t\tqueryString(newString)\n\t\t{\n\t\t\tthis.showClearSearch = this.opened && this.$refs['search-input'] && Type.isStringFilled(newString);\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.debounceSearchHandler = debounce((event) => {\n\t\t\tthis.onSearch(event.target.value);\n\t\t}, 255);\n\t},\n\tmethods: {\n\t\topenSearch()\n\t\t{\n\t\t\tthis.opened = true;\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$refs['search-input'].focus();\n\t\t\t});\n\t\t},\n\t\tonSearch(queryString)\n\t\t{\n\t\t\tthis.queryString = queryString;\n\t\t\tthis.$emit(\n\t\t\t\t'onSearch',\n\t\t\t\tnew BaseEvent({data: {queryString: queryString ? queryString.toString() : ''}})\n\t\t\t);\n\t\t},\n\t\tclearSearch()\n\t\t{\n\t\t\tif (this.showClearSearch)\n\t\t\t{\n\t\t\t\tthis.$refs['search-input'].value = '';\n\t\t\t\tthis.onSearch('');\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"ui-ctl ui-ctl-after-icon ui-ctl-w100 ui-ctl-round\" @click.once=\"openSearch\">\n\t\t\t<a \n\t\t\t\t:class=\"{\n\t\t\t\t\t'ui-ctl-after': true,\n\t\t\t\t\t'ui-ctl-icon-search': !showClearSearch,\n\t\t\t\t\t'ui-ctl-icon-clear': showClearSearch\n\t\t\t\t}\"\n\t\t\t\t@click=\"clearSearch\"\n\t\t\t/>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"ui-ctl-element ui-ctl-textbox\"\n\t\t\t\tplaceholder=\"${Loc.getMessage('UI_JS_ENTITY_CATALOG_GROUP_LIST_SEARCH_PLACEHOLDER')}\"\n\t\t\t\tref=\"search-input\"\n\t\t\t\tv-if=\"opened\"\n\t\t\t\t@input=\"debounceSearchHandler\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};","import { Type, Runtime } from 'main.core';\nimport { BaseEvent } from 'main.core.events';\nimport 'ui.icons';\n\nimport { MainGroups } from './main-groups';\nimport { MainContent } from './main-content';\nimport { TitleBarFilter } from './titlebar-filter';\nimport { Search } from './search';\n\nimport { GroupData } from '@/type/group';\nimport type { ItemData } from '@/type/item';\n\nimport '../css/application.css';\n\nexport const Application = {\n\tname: 'ui-entity-catalog-application',\n\tcomponents: {\n\t\tMainGroups,\n\t\tMainContent,\n\t\tTitleBarFilter,\n\t\tSearch,\n\t},\n\tprops: {\n\t\trecentGroupData: {\n\t\t\ttype: GroupData,\n\t\t\trequired: false,\n\t\t},\n\t\tgroups: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tshowEmptyGroups: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tshowRecentGroup: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tfilterOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault: {\n\t\t\t\tfilterItems: [],\n\t\t\t\tmultiple: false,\n\t\t\t},\n\t\t},\n\t},\n\tdata(): Object\n\t{\n\t\tlet selectedGroup = null;\n\t\tfor (const groupList of this.groups)\n\t\t{\n\t\t\tselectedGroup = groupList.find(group => group.selected);\n\t\t\tif (selectedGroup)\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (Type.isNil(selectedGroup) && this.recentGroupData?.selected)\n\t\t{\n\t\t\tselectedGroup = {id: 'recent', ...(this.recentGroupData ?? {})};\n\t\t}\n\n\t\treturn {\n\t\t\tselectedGroup,\n\t\t\tselectedGroupId: selectedGroup?.id ?? null,\n\t\t\tshownItems: [],\n\t\t\tshownGroups: this.getDisplayedGroup(),\n\t\t\tsearching: false,\n\t\t\tlastSearchString: '',\n\t\t\tfilters: [],\n\t\t};\n\t},\n\tcomputed: {\n\t\titemsBySelectedGroupId(): Array<ItemData>\n\t\t{\n\t\t\tconst items = this.items.filter((item) => item.groupIds.some(id => id === this.selectedGroupId));\n\n\t\t\treturn this.selectedGroup?.compare ? items.sort(this.selectedGroup.compare) : items;\n\t\t}\n\t},\n\twatch: {\n\t\tselectedGroupId()\n\t\t{\n\t\t\tif (this.searching)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.shownItems = this.itemsBySelectedGroupId;\n\t\t\tthis.applyFilters();\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.shownItems = this.itemsBySelectedGroupId;\n\t},\n\tmethods: {\n\t\tgetDisplayedGroup(): Array<Array<GroupData>>\n\t\t{\n\t\t\tif (this.showEmptyGroups)\n\t\t\t{\n\t\t\t\treturn Runtime.clone(this.groups);\n\t\t\t}\n\n\t\t\tconst groupIdsWithItems = new Set();\n\t\t\tthis.items.forEach((item: ItemData) => {\n\t\t\t\titem.groupIds.forEach((groupId: String | Number) => {\n\t\t\t\t\tgroupIdsWithItems.add(groupId)\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn (\n\t\t\t\tthis\n\t\t\t\t\t.groups\n\t\t\t\t\t.map((groupList: Array<GroupData>) => groupList.filter((group: GroupData) => groupIdsWithItems.has(group.id)\n\t\t\t\t\t))\n\t\t\t\t\t.filter(groupList => groupList.length > 0)\n\t\t\t);\n\t\t},\n\t\thandleGroupSelected(group: ?GroupData)\n\t\t{\n\t\t\tthis.searching = false;\n\t\t\tthis.$refs.search?.clearSearch();\n\n\t\t\tthis.selectedGroupId = group ? group.id : null;\n\t\t\tthis.selectedGroup = group ?? null;\n\t\t},\n\t\tonSearch(event: BaseEvent)\n\t\t{\n\t\t\tconst queryString = event.getData().queryString.toLowerCase();\n\t\t\tthis.lastSearchString = queryString;\n\n\t\t\tif (!Type.isStringFilled(queryString))\n\t\t\t{\n\t\t\t\tthis.searching = false;\n\t\t\t\tthis.shownItems = [];\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.searching = true;\n\t\t\tthis.selectedGroup = null;\n\t\t\tthis.selectedGroupId = null;\n\n\t\t\tthis.shownItems = this.items.filter((item) => (\n\t\t\t\tString(item.title).toLowerCase().includes(queryString)\n\t\t\t\t|| String(item.description).toLowerCase().includes(queryString)\n\t\t\t\t|| item.tags?.some(tag => tag === queryString)\n\t\t\t));\n\n\t\t\tthis.applyFilters();\n\t\t},\n\t\tonApplyFilterClick(event: BaseEvent)\n\t\t{\n\t\t\tthis.filters = event.getData();\n\t\t\tif (this.searching)\n\t\t\t{\n\t\t\t\tthis.onSearch(new BaseEvent({data: {queryString: this.lastSearchString}}));\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.shownItems = this.itemsBySelectedGroupId;\n\t\t\tthis.applyFilters();\n\t\t},\n\t\tapplyFilters()\n\t\t{\n\t\t\tfor (const filterId in this.filters)\n\t\t\t{\n\t\t\t\tthis.shownItems = this.shownItems.filter(this.filters[filterId].action);\n\t\t\t}\n\t\t},\n\t\tgetFilterNode(): ?Element\n\t\t{\n\t\t\treturn (this.$root.$app\n\t\t\t\t.getPopup()\n\t\t\t\t.getTitleContainer()\n\t\t\t\t.querySelector('[data-role=\"titlebar-filter\"]')\n\t\t\t);\n\t\t},\n\t\tgetSearchNode(): ?Element\n\t\t{\n\t\t\treturn (this.$root.$app\n\t\t\t\t.getPopup()\n\t\t\t\t.getTitleContainer()\n\t\t\t\t.querySelector('[data-role=\"titlebar-search\"]')\n\t\t\t);\n\t\t},\n\t\tstopPropagation(event)\n\t\t{\n\t\t\tevent.stopPropagation();\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"ui-entity-catalog__main\">\n\t\t\t<MainGroups\n\t\t\t\t:recent-group-data=\"this.recentGroupData\"\n\t\t\t\t:groups=\"this.shownGroups\"\n\t\t\t\t:show-recent-group=\"showRecentGroup\"\n\t\t\t\t:searching=\"searching\"\n\t\t\t\t@group-selected=\"handleGroupSelected\"\n\t\t\t>\n\t\t\t\t<template #group-list-header>\n\t\t\t\t\t<slot name=\"group-list-header\"/>\n\t\t\t\t</template>\n\t\t\t\t<template #group=\"groupSlotProps\">\n\t\t\t\t\t<slot\n\t\t\t\t\t\tname=\"group\"\n\t\t\t\t\t\tv-bind:groupData=\"groupSlotProps.groupData\"\n\t\t\t\t\t\tv-bind:handleClick=\"groupSlotProps.handleClick\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t\t<template #group-list-footer>\n\t\t\t\t\t<slot name=\"group-list-footer\"/>\n\t\t\t\t</template>\n\t\t\t</MainGroups>\n\t\t\t<MainContent\n\t\t\t\t:items=\"shownItems\"\n\t\t\t\t:group=\"selectedGroup\"\n\t\t\t\t:searching=\"searching\"\n\t\t\t>\n\t\t\t\t<template #main-content-header>\n\t\t\t\t\t<slot name=\"main-content-header\"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-no-selected-group-stub>\n\t\t\t\t\t<slot name=\"main-content-no-selected-group-stub\"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-search-not-found-stub>\n\t\t\t\t\t<slot name=\"main-content-search-not-found-stub\"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-empty-group-stub>\n\t\t\t\t\t<slot name=\"main-content-empty-group-stub\"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-empty-group-stub-title>\n\t\t\t\t\t<slot name=\"main-content-empty-group-stub-title\"/>\n\t\t\t\t</template>\n\t\t\t\t<template #item=\"itemSlotProps\">\n\t\t\t\t\t<slot name=\"item\" v-bind:itemData=\"itemSlotProps.itemData\"/>\n\t\t\t\t</template>\n\t\t\t</MainContent>\n\t\t\t<Teleport v-if=\"getFilterNode()\" :to=\"getFilterNode()\">\n\t\t\t\t<TitleBarFilter\n\t\t\t\t\t:filters=\"filterOptions.filterItems\"\n\t\t\t\t\t:multiple=\"filterOptions.multiple\"\n\t\t\t\t\t@onApplyFilters=\"onApplyFilterClick\"\n\t\t\t\t\t@mousedown=\"stopPropagation\"\n\t\t\t\t/>\n\t\t\t</Teleport>\n\t\t\t<Teleport v-if=\"getSearchNode()\" :to=\"getSearchNode()\">\n\t\t\t\t<Search @onSearch=\"onSearch\" ref=\"search\" @mousedown=\"stopPropagation\"/>\n\t\t\t</Teleport>\n\t\t</div>\n\t`,\n}","import { Loc, Tag, Text, Type } from 'main.core';\nimport { BaseEvent, EventEmitter } from 'main.core.events';\nimport { Popup, PopupOptions } from 'main.popup';\nimport { BitrixVue } from 'ui.vue3';\nimport { Hint } from \"ui.vue3.components.hint\";\nimport { feedback} from \"./directives/feedback\";\n\nimport { Application } from './components/application';\nimport { Button } from './components/button';\n\nimport 'ui.forms';\n\nimport './css/popup.css';\n\nimport type { GroupData } from './types/group';\nimport type { ItemData } from './types/item';\nimport type { FilterData} from './types/filter';\n\nexport type {\n\tGroupData,\n\tItemData,\n\tFilterData,\n};\n\nexport class EntityCatalog extends EventEmitter\n{\n\tstatic DEFAULT_POPUP_WIDTH = 881;\n\tstatic DEFAULT_POPUP_HEIGHT = 621;\n\tstatic DEFAULT_POPUP_COLOR = '#edeef0';\n\n\tstatic SLOT_GROUP_LIST_HEADER = 'group-list-header';\n\tstatic SLOT_GROUP = 'group';\n\tstatic SLOT_GROUP_LIST_FOOTER = 'group-list-footer';\n\tstatic SLOT_MAIN_CONTENT_HEADER = 'main-content-header';\n\tstatic SLOT_MAIN_CONTENT_SEARCH_NOT_FOUND = 'search-not-found';\n\tstatic SLOT_MAIN_CONTENT_NO_SELECTED_GROUP_STUB = 'main-content-no-selected-group-stub';\n\tstatic SLOT_MAIN_CONTENT_EMPTY_GROUP_STUB = 'main-content-empty-group-stub';\n\tstatic SLOT_MAIN_CONTENT_EMPTY_GROUP_STUB_TITLE = 'main-content-empty-group-stub-title';\n\tstatic SLOT_MAIN_CONTENT_ITEM = 'main-content-item';\n\n\t#popup: ?Popup;\n\t#popupOptions: PopupOptions;\n\t#popupTitle: string;\n\t#customTitleBar: Element = null;\n\n\t#groups: Array<Array<GroupData>> = [];\n\t#items: Array<Item> = [];\n\t#recentGroupData: ?GroupData;\n\t#showEmptyGroups: boolean = false;\n\t#showRecentGroup: boolean = false;\n\t#showSearch: boolean = false;\n\t#filterOptions: {\n\t\tfilterItems: Array<FilterData>,\n\t\tmultiple: boolean,\n\t} = {\n\t\tfilterItems: [],\n\t\tmultiple: false,\n\t};\n\t#application;\n\t#slots: object;\n\n\tconstructor(props: {\n\t\tgroups?: Array<Array<GroupData>>,\n\t\titems?: Array<ItemData>,\n\t\trecentGroupData?: GroupData,\n\t\tshowEmptyGroups?: boolean,\n\t\tshowRecentGroup?: boolean,\n\t\tshowSearch?: boolean,\n\t\tfilterOptions?: {\n\t\t\tfilterItems: Array<FilterData>,\n\t\t\tmultiple: boolean,\n\t\t},\n\t\tpopupOptions?: PopupOptions,\n\t\tcustomTitleBar?: string,\n\t\ttitle?: string,\n\t\tslots?: object,\n\t\tevents?: { [eventName: string]: (event: BaseEvent) => void },\n\t})\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.UI.EntityCatalog');\n\n\t\tthis.setGroups(Type.isArray(props.groups) ? props.groups : []);\n\t\tthis.setItems(Type.isArray(props.items) ? props.items : []);\n\t\tthis.#recentGroupData = props.recentGroupData;\n\t\tthis.#showEmptyGroups = Type.isBoolean(props.showEmptyGroups) ? props.showEmptyGroups : false;\n\t\tthis.#showRecentGroup = Type.isBoolean(props.showRecentGroup) ? props.showRecentGroup : false;\n\t\tthis.#showSearch = Type.isBoolean(props.showSearch) ? props.showSearch : false;\n\n\t\tif (Type.isPlainObject(props.filterOptions))\n\t\t{\n\t\t\tthis.#filterOptions = props.filterOptions;\n\t\t}\n\n\t\tthis.#popupTitle = Type.isString(props.title) ? props.title : '';\n\t\tthis.#customTitleBar = props.customTitleBar ? props.customTitleBar : null;\n\t\tthis.#popupOptions = Object.assign(\n\t\t\tthis.#getDefaultPopupOptions(),\n\t\t\tType.isObject(props.popupOptions) ? props.popupOptions : {}\n\t\t);\n\t\tthis.#slots = props.slots ?? {};\n\n\t\tthis.subscribeFromOptions(props.events);\n\t}\n\n\tsetGroups(groups: Array<Array<GroupData> | GroupData>): this\n\t{\n\t\tthis.#groups = groups.map((groupList) => {\n\t\t\tif (!Type.isArray(groupList))\n\t\t\t{\n\t\t\t\tgroupList = [groupList]\n\t\t\t}\n\n\t\t\treturn groupList.map(group => ({\n\t\t\t\tselected: false,\n\t\t\t\t...group\n\t\t\t}));\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tgetItems(): Array<ItemData>\n\t{\n\t\treturn this.#items;\n\t}\n\n\tsetItems(items: Array<ItemData>): this\n\t{\n\t\titems = items.map(item => ({\n\t\t\tbutton: {},\n\t\t\t...item\n\t\t}));\n\n\t\tthis.#items.length = 0;\n\t\tthis.#items.push(...items);\n\n\t\treturn this;\n\t}\n\n\tshow()\n\t{\n\t\tthis.#attachTemplate();\n\t\tthis.getPopup().show();\n\t}\n\n\tisShown(): boolean\n\t{\n\t\treturn this.#popup && this.#popup.isShown();\n\t}\n\n\t#attachTemplate()\n\t{\n\t\tconst context = this;\n\n\t\tconst rootProps = {\n\t\t\trecentGroupData: this.#recentGroupData,\n\t\t\tgroups: this.#groups,\n\t\t\titems: this.#items,\n\t\t\tshowEmptyGroups: this.#showEmptyGroups,\n\t\t\tshowRecentGroups: this.#showRecentGroup,\n\t\t\tfilterOptions: this.#filterOptions,\n\t\t};\n\n\t\tthis.#application = BitrixVue.createApp(\n\t\t\t{\n\t\t\t\tname: 'ui-entity-catalog',\n\t\t\t\tcomponents: {\n\t\t\t\t\tApplication,\n\t\t\t\t\tHint,\n\t\t\t\t\tButton,\n\t\t\t\t},\n\t\t\t\tdirectives: {\n\t\t\t\t\tfeedback\n\t\t\t\t},\n\t\t\t\tprops: {\n\t\t\t\t\trecentGroupData: Object,\n\t\t\t\t\tgroups: Array,\n\t\t\t\t\titems: Array,\n\t\t\t\t\tshowEmptyGroups: Boolean,\n\t\t\t\t\tshowRecentGroups: Boolean,\n\t\t\t\t\tfilterOptions: Object,\n\t\t\t\t},\n\t\t\t\tcreated()\n\t\t\t\t{\n\t\t\t\t\tthis.$app = context;\n\t\t\t\t},\n\t\t\t\ttemplate: `\n\t\t\t\t\t<Application\n\t\t\t\t\t\t:recent-group-data=\"recentGroupData\"\n\t\t\t\t\t\t:groups=\"groups\"\n\t\t\t\t\t\t:items=\"items\"\n\t\t\t\t\t\t:show-empty-groups=\"showEmptyGroups\"\n\t\t\t\t\t\t:show-recent-group=\"showRecentGroups\"\n\t\t\t\t\t\t:filter-options=\"filterOptions\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #group-list-header>\n\t\t\t\t\t\t\t${this.#slots[EntityCatalog.SLOT_GROUP_LIST_HEADER] ?? ''}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #group=\"groupSlotProps\">\n\t\t\t\t\t\t\t${this.#slots[EntityCatalog.SLOT_GROUP] ?? ''}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #group-list-footer>\n\t\t\t\t\t\t\t${this.#slots[EntityCatalog.SLOT_GROUP_LIST_FOOTER] ?? ''}\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<template #main-content-header>\n\t\t\t\t\t\t\t${this.#slots[EntityCatalog.SLOT_MAIN_CONTENT_HEADER] ?? ''}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-search-not-found-stub>\n\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\tthis.#slots[EntityCatalog.SLOT_MAIN_CONTENT_SEARCH_NOT_FOUND]\n\t\t\t\t\t\t\t\t?? Loc.getMessage('UI_JS_ENTITY_CATALOG_GROUP_LIST_ITEM_LIST_SEARCH_STUB_DEFAULT_TITLE')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-no-selected-group-stub>\n\t\t\t\t\t\t\t${this.#slots[EntityCatalog.SLOT_MAIN_CONTENT_NO_SELECTED_GROUP_STUB] ?? ''}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-empty-group-stub>\n\t\t\t\t\t\t\t${this.#slots[EntityCatalog.SLOT_MAIN_CONTENT_EMPTY_GROUP_STUB] ?? ''}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-empty-group-stub-title>\n\t\t\t\t\t\t\t${this.#slots[EntityCatalog.SLOT_MAIN_CONTENT_EMPTY_GROUP_STUB_TITLE] ?? ''}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #item=\"itemSlotProps\">\n\t\t\t\t\t\t\t${this.#slots[EntityCatalog.SLOT_MAIN_CONTENT_ITEM] ?? ''}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Application>\n\t\t\t\t`,\n\t\t\t},\n\t\t\trootProps\n\t\t);\n\n\t\tthis.#application.mount(this.getPopup().getContentContainer());\n\t}\n\n\tgetPopup(): Popup\n\t{\n\t\tif (Type.isNil(this.#popup))\n\t\t{\n\t\t\tthis.#popup = new Popup(this.#popupOptions);\n\n\t\t\tthis.#popup.setResizeMode(true);\n\t\t}\n\n\t\treturn this.#popup;\n\t}\n\n\t#getDefaultPopupOptions(): PopupOptions\n\t{\n\t\treturn {\n\t\t\tclassName: 'ui-catalog-popup ui-entity-catalog__scope',\n\t\t\ttitleBar: this.#getPopupTitleBar(),\n\t\t\tnoAllPaddings: true,\n\t\t\tcloseByEsc: true,\n\t\t\tcontentBackground: EntityCatalog.DEFAULT_POPUP_COLOR,\n\t\t\tdraggable: true,\n\t\t\twidth: EntityCatalog.DEFAULT_POPUP_WIDTH,\n\t\t\theight: EntityCatalog.DEFAULT_POPUP_HEIGHT,\n\t\t\tminWidth: EntityCatalog.DEFAULT_POPUP_WIDTH,\n\t\t\tminHeight: EntityCatalog.DEFAULT_POPUP_HEIGHT,\n\t\t\tautoHide: false,\n\t\t};\n\t}\n\n\t#getPopupTitleBar(): Object\n\t{\n\t\tconst titleBar =\n\t\t\tthis.#customTitleBar\n\t\t\t\t? this.#customTitleBar\n\t\t\t\t: Tag.render`<div>${Text.encode(this.#popupTitle)}</div>`\n\t\t;\n\n\t\treturn {\n\t\t\tcontent: Tag.render`\n\t\t\t\t<div class=\"popup-window-titlebar-text ui-entity-catalog-popup-titlebar\">\n\t\t\t\t\t${titleBar}\n\t\t\t\t\t\n\t\t\t\t\t${this.#showSearch ? `<div class=\"ui-entity-catalog__titlebar_search\" data-role=\"titlebar-search\"></div>` : ''}\n\t\t\t\t\t${this.#filterOptions.filterItems.length > 0 ? '<div data-role=\"titlebar-filter\"></div>' : ''}\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"popup-window-close-icon popup-window-titlebar-close-icon\"\n\t\t\t\t\t\tonclick=\"${this.#handleClose.bind(this)}\"\n\t\t\t\t\t\t></span>\n\t\t\t\t</div>\n\t\t\t`\n\t\t};\n\t}\n\n\t#handleClose(): void\n\t{\n\t\tthis.close();\n\t}\n\n\tclose()\n\t{\n\t\tthis.#application.unmount();\n\t\tthis.getPopup().close();\n\t}\n}"],"names":["feedback","beforeMount","element","bindings","Event","bind","event","preventDefault","BX","UI","Feedback","Form","open","value","Group","emits","name","props","groupData","type","GroupData","required","computed","hasIcon","Type","isStringFilled","icon","methods","handleClick","$emit","selected","template","GroupList","components","groups","Array","handleGroupSelected","group","handleGroupUnselected","MainGroups","recentGroupData","showRecentGroup","Boolean","default","searching","data","recentGroup","getRecentGroup","Object","assign","selectedGroup","find","shownGroups","watch","newGroup","newGroupId","id","map","groupList","beforeUpdate","Loc","getMessage","handleRecentGroupSelected","ItemListAdvice","getAvatar","adviceAvatar","renderAdvice","Dom","clean","$refs","container","advice","Advice","content","adviceTitle","avatarImg","anglePosition","AnglePosition","BOTTOM","renderTo","mounted","updated","Button","buttonData","ButtonData","eventData","buttonText","text","handleButtonClick","pointerEvent","BaseEvent","originalEvent","isFunction","action","call","Item","itemData","ItemData","isPlainObject","button","ItemList","items","MainContent","showAdvice","showNoSelectedGroupStub","showSearchStub","length","showSeparator","scrollTop","TitleBarFilter","filters","multiple","appliedFilters","getAppliedFilters","allFilters","showMenu","MenuManager","create","bindElement","$el","minWidth","autoHide","contentColor","draggable","cacheable","getItems","show","key","html","Tag","render","Text","encode","applied","append","push","onclick","item","clearAllAction","getMenuWindow","close","delimiter","getClearAllFilter","filter","keys","Search","opened","debounceSearchHandler","queryString","showClearSearch","newString","created","debounce","onSearch","target","openSearch","$nextTick","focus","toString","clearSearch","Application","showEmptyGroups","filterOptions","filterItems","isNil","selectedGroupId","shownItems","getDisplayedGroup","lastSearchString","itemsBySelectedGroupId","groupIds","some","compare","sort","applyFilters","Runtime","clone","groupIdsWithItems","Set","forEach","groupId","add","has","search","getData","toLowerCase","String","title","includes","description","tags","tag","onApplyFilterClick","filterId","getFilterNode","$root","$app","getPopup","getTitleContainer","querySelector","getSearchNode","stopPropagation","EntityCatalog","EventEmitter","constructor","setEventNamespace","setGroups","isArray","setItems","isBoolean","showSearch","isString","customTitleBar","isObject","popupOptions","slots","subscribeFromOptions","events","isShown","Popup","setResizeMode","unmount","context","rootProps","showRecentGroups","BitrixVue","createApp","Hint","directives","SLOT_GROUP_LIST_HEADER","SLOT_GROUP","SLOT_GROUP_LIST_FOOTER","SLOT_MAIN_CONTENT_HEADER","SLOT_MAIN_CONTENT_SEARCH_NOT_FOUND","SLOT_MAIN_CONTENT_NO_SELECTED_GROUP_STUB","SLOT_MAIN_CONTENT_EMPTY_GROUP_STUB","SLOT_MAIN_CONTENT_EMPTY_GROUP_STUB_TITLE","SLOT_MAIN_CONTENT_ITEM","mount","getContentContainer","className","titleBar","noAllPaddings","closeByEsc","contentBackground","DEFAULT_POPUP_COLOR","width","DEFAULT_POPUP_WIDTH","height","DEFAULT_POPUP_HEIGHT","minHeight"],"mappings":"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"}