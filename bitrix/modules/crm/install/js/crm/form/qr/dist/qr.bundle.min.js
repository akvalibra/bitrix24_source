this.BX=this.BX||{};this.BX.Crm=this.BX.Crm||{};(function(t,e,i,a){"use strict";var s,l,n,r,c;function o(t,e){b(t,e);e.add(t)}function p(t,e,i){b(t,e);e.set(t,i)}function b(t,e){if(e.has(t)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function h(t,e,i){if(!e.has(t)){throw new TypeError("attempted to get private field on non-instance")}return i}var u=new WeakMap;var d=new WeakMap;var v=new WeakMap;var _=new WeakMap;var m=new WeakMap;var f=new WeakSet;var w=new WeakSet;var g=new WeakSet;var P=new WeakSet;var H=new WeakSet;var F=new WeakSet;var M=function(){function t(e){babelHelpers.classCallCheck(this,t);o(this,F);o(this,H);o(this,P);o(this,g);o(this,w);o(this,f);p(this,u,{writable:true,value:void 0});p(this,d,{writable:true,value:null});p(this,v,{writable:true,value:null});p(this,_,{writable:true,value:null});p(this,m,{writable:true,value:null});babelHelpers.classPrivateFieldSet(this,u,e.link)}babelHelpers.createClass(t,[{key:"renderTo",value:function t(e){var i=h(this,f,C).call(this);e.appendChild(i);return i}},{key:"show",value:function t(){h(this,P,T).call(this);if(!h(this,g,k).call(this).isShown()){h(this,g,k).call(this).show()}}},{key:"close",value:function t(){if(h(this,g,k).call(this).isShown()){h(this,g,k).call(this).close()}}}]);return t}();function C(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,v)){babelHelpers.classPrivateFieldSet(this,v,i.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<button\n\t\t\t\t\ttype="button"\n\t\t\t\t\tclass="crm-webform-qr-btn ui-btn ui-btn-xs ui-btn-light-border ui-btn-round ui-btn-no-caps ui-btn-icon-share"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</button>\n\t\t\t"])),i.Loc.getMessage("CRM_WEBFORM_QR_OPEN")));babelHelpers.classPrivateFieldGet(this,v).addEventListener("click",(function(e){e.stopPropagation();t.show()}))}return babelHelpers.classPrivateFieldGet(this,v)}function E(){if(!babelHelpers.classPrivateFieldGet(this,d)){babelHelpers.classPrivateFieldSet(this,d,i.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="crm-webform__popup-image"></div>\n\t\t\t']))))}return babelHelpers.classPrivateFieldGet(this,d)}function k(){if(!this.popup){var t=i.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="crm-webform__scope">\n\t\t\t\t\t<div class="crm-webform__popup-container --qr">\n\t\t\t\t\t\t<div class="crm-webform__popup-wrapper">\n\t\t\t\t\t\t\t<div class="crm-webform__popup-content">\n\t\t\t\t\t\t\t\t<div class="crm-webform__popup-text">',"</div>\n\t\t\t\t\t\t\t\t",'\n\t\t\t\t\t\t\t\t<div class="crm-webform__popup-text --sm">\n\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="crm-webform__popup-buttons">\n\t\t\t\t\t\t\t\t\t<a href="','" target="_blank" class="ui-btn ui-btn-light-border ui-btn-round">\n\t\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="crm-webform__popup-bottom">\n\t\t\t\t\t\t\t\t<a href="','" target="_blank" class="crm-webform__popup-url">\n\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"])),i.Loc.getMessage("CRM_WEBFORM_QR_TITLE"),h(this,w,E).call(this),i.Loc.getMessage("CRM_WEBFORM_QR_DESC"),babelHelpers.classPrivateFieldGet(this,u),i.Loc.getMessage("CRM_WEBFORM_QR_TILE_POPUP_OPEN_SITE"),babelHelpers.classPrivateFieldGet(this,u),babelHelpers.classPrivateFieldGet(this,u),h(this,H,L).call(this),h(this,F,R).call(this));this.popup=new a.Popup({className:"crm-webform__status-popup",content:t,bindElement:window,width:405,minWidth:220,closeByEsc:true,autoHide:true,animation:"fading-slide",closeIcon:true,padding:0})}return this.popup}function T(){if(!babelHelpers.classPrivateFieldGet(this,d)){new QRCode(h(this,w,E).call(this),{text:babelHelpers.classPrivateFieldGet(this,u),width:250,height:250})}}function L(){if(!babelHelpers.classPrivateFieldGet(this,m)){babelHelpers.classPrivateFieldSet(this,m,i.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<input \n\t\t\t\t\ttype="text" \n\t\t\t\t\tstyle="position: absolute; opacity: 0; pointer-events: none"\n\t\t\t\t\tvalue="','">\n\t\t\t'])),babelHelpers.classPrivateFieldGet(this,u)))}return babelHelpers.classPrivateFieldGet(this,m)}function R(){var t=this;if(!babelHelpers.classPrivateFieldGet(this,_)){babelHelpers.classPrivateFieldSet(this,_,i.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="crm-webform__popup-copy">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t"])),i.Loc.getMessage("CRM_WEBFORM_QR_TILE_POPUP_COPY_LINK")));i.Event.bind(babelHelpers.classPrivateFieldGet(this,_),"click",(function(){h(t,H,L).call(t).select();document.execCommand("copy");BX.UI.Notification.Center.notify({content:i.Loc.getMessage("CRM_WEBFORM_QR_TILE_POPUP_COPY_LINK_COMPLETE"),autoHideDelay:2e3})}))}return babelHelpers.classPrivateFieldGet(this,_)}t.Qr=M})(this.BX.Crm.Form=this.BX.Crm.Form||{},BX,BX,BX.Main);
//# sourceMappingURL=qr.bundle.map.js