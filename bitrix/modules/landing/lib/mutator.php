<? namespace Bitrix\Landing;$GLOBALS['____1825737848']= array(base64_decode('ZGVma'.'W5l'),base64_decode('cHJl'.'Z19t'.'Y'.'XR'.'ja'.'F9hbG'.'w='),base64_decode('YXJyYXlf'.'bWVyZ2U='),base64_decode('YXJy'.'Y'.'X'.'lfdmFsdWVz'),base64_decode('YX'.'JyYXlfdW'.'5pcXVl'),base64_decode('c3Vic3'.'Ry'),base64_decode('aW5fYXJyY'.'Xk'.'='),base64_decode('Z'.'XhwbG9kZQ=='),base64_decode('cGFja'.'w=='),base64_decode('bWQ1'),base64_decode('Y29uc'.'3Rhbn'.'Q='),base64_decode('aGFzaF9obWFj'),base64_decode('c3'.'RyY'.'21w'),base64_decode('ZXh'.'wbG9kZQ=='),base64_decode('bWt0aW1l'),base64_decode('dGltZ'.'Q='.'='),base64_decode('ZXh'.'wbG9kZQ=='),base64_decode('cG'.'Fjaw'.'=='),base64_decode(''.'b'.'W'.'Q1'),base64_decode('Y'.'29uc'.'3RhbnQ='),base64_decode('aG'.'FzaF9obWFj'),base64_decode('c'.'3RyY21w'),base64_decode('ZXhwbG9kZQ=='),base64_decode('bWt'.'0aW'.'1l'),base64_decode('dGltZQ=='),base64_decode('aW5'.'fY'.'XJyYXk='),base64_decode('cHJlZ19yZXBsYW'.'N'.'lX2Nhb'.'G'.'xiYWNr'),base64_decode(''.'bWJfc3R'.'ydG9sb3dlcg=='),base64_decode('cHJlZ'.'19y'.'ZX'.'BsYWNl'.'X2NhbGxiYWNr'),base64_decode('c'.'HJ'.'l'.'Z19yZXBs'.'Y'.'WNl'.'X2NhbG'.'xiYWNr'),base64_decode('bW'.'Jfc3R'.'y'.'dG9s'.'b3dlcg=='),base64_decode('c3RyX3JlcGxhY2U='),base64_decode('cHJlZ19'.'tYXRja'.'A=='),base64_decode('cH'.'JlZ'.'19yZXBs'.'Y'.'WN'.'lX'.'2Nh'.'bGxi'.'YWNr'));if(!function_exists(__NAMESPACE__.'\\___1474936361')){function ___1474936361($_1404649582){static $_465683372= false; if($_465683372 == false) $_465683372=array('TEFOREl'.'OR19NV'.'V'.'RB'.'VE9S'.'X01P'.'REU=',''.'bGFuZGluZw='.'=','b25MYW'.'5kaW5nU3Rh'.'cnRQ'.'dWJsaWNhd'.'G'.'lvbg==',''.'aWQ=',''.'Ym'.'xv'.'Y2tJZA==','c2l0ZUlk','Yml0'.'cml4MjQ=','RU1BSUx'.'f'.'T'.'k'.'9UX0NP'.'TkZJU'.'k1F'.'RA==',''.'TEF'.'ORElO'.'R19FT'.'UF'.'JTF9OT'.'1RfQ09'.'ORklS'.'TUVE',''.'bGFuZG'.'luZ1'.'91cmxjaGVja2V'.'yX'.'2tleQ==','c2VsZWN0',''.'Q'.'0'.'9OVEVOVA==','Z'.'mlsdGV'.'y','TElE','PURF'.'TEVURUQ=','T'.'g==','P'.'UF'.'DVElWR'.'Q==','WQ='.'=','PVBVQ'.'k'.'xJQ'.'w'.'==','Tg==','I'.'ygoaHR0cHxmdHB8a'.'HR0c'.'HMpOi8vW'.'1'.'4nIl'.'xz'.'P'.'F0rK'.'SN'.'pcw==','Q0'.'9OVEVO'.'VA'.'==','aHR0'.'cHM6Ly9w'.'cmV2'.'aWV'.'3'.'LmJpd'.'HJpeDI'.'0LnNpd'.'GU'.'v'.'dG'.'9vbHMvdXJsY2hlY2tlc'.'i5w'.'aH'.'A=',''.'a'.'2V5','dX'.'J'.'s',''.'aHR0cF9ob'.'3N0','SFRUUF9IT1'.'NU','T'.'0s'.'=','V'.'VJMQ0'.'hFQ0tFU'.'l9GQUlM',''.'TEFORElOR19VUkxDSEVDS0VSX0ZB'.'SUw=','Zmlsd'.'G'.'V'.'y','IUlE','UFVCTEl'.'DX1BBR0'.'VfUk'.'VBQ'.'0hF'.'RA==','bGl'.'taXRfc2l0ZX'.'NfbnVtYm'.'VyX3Bh'.'Z2U'.'=','SU5JVElBV'.'E9'.'SX0FQUF9DT'.'0R'.'F','cmVzdA'.'==','Zmls'.'d'.'G'.'Vy','PUNPREU=',''.'SU5JV'.'ElB'.'VE'.'9'.'SX0FQUF9DT0RF','',''.'U'.'EFZTUVOVF9BT'.'ExPVw'.'==','WQ==','TEFORElOR'.'19QQ'.'VlNRU5UX'.'0'.'ZB'.'SU'.'xF'.'R'.'A='.'=','bGFu'.'ZG'.'l'.'u'.'Z'.'19w'.'YX'.'ltZW5'.'0X'.'2'.'Zha'.'WxlZF'.'8'.'y','c2VsZWN0','Q09ERQ==',''.'Z'.'mlsdGVy','TE'.'lE','PUFDVElWRQ==','WQ'.'='.'=','P'.'URFTEV'.'URUQ=',''.'Tg==','PVB'.'VQkxJQ'.'w==',''.'Tg'.'==','Q09ER'.'Q==','cmV'.'w'.'b18l','Q0'.'9E'.'RQ='.'=','UEFZT'.'UVOVF9'.'BT'.'ExPVw='.'=',''.'WQ==','WQ==','TEF'.'ORElO'.'R19QQ'.'V'.'lN'.'RU5UX0'.'Z'.'B'.'SUx'.'FRF'.'9CT'.'E9'.'DSw='.'=','b'.'G'.'FuZGluZ19'.'wYXl'.'tZW50X2ZhaWxlZF9ib'.'G'.'9jaw='.'=','c2VsZW'.'N0','SUQ=',''.'VF'.'lQRQ==','Zm'.'lsdGVy',''.'SUQ=',''.'U'.'1BFQ'.'0lBTA'.'='.'=',''.'Tg='.'=','Q0h'.'FQ0tfUEVSTUlTU0lPTl'.'M=','T'.'g==',''.'ZmlsdGVy','IUl'.'E','SUQ=',''.'dHl'.'wZ'.'Q==','VF'.'lQ'.'RQ==',''.'VF'.'lQRQ==','UFVC'.'T'.'ElD'.'X1'.'NJVE'.'VfUkV'.'B'.'Q0'.'hFRF9GUkVF',''.'U'.'FVCTE'.'l'.'DX1NJV'.'EVfUkVBQ0hFRA='.'=','VFlQRQ==','bG'.'lt'.'aXRfc'.'2l0ZXN'.'fbn'.'Vt'.'YmVyX2'.'ZyZWU'.'=','bG'.'ltaXRfc2l0ZXNfbn'.'Vt'.'YmVy','c'.'2VsZWN0','SUQ=',''.'Zmls'.'dG'.'V'.'y','U0lU'.'R'.'V9JRA'.'==','Q0h'.'FQ0'.'tfUEVSTUl'.'TU0lP'.'TlM=','T'.'g==','SUQ=','c2'.'VsZ'.'WN0','SU'.'Q=',''.'RU5US'.'VRZX1RZUEU=','RU5USV'.'RZX0l'.'E','Z'.'ml'.'sdG'.'Vy','TE9HSUM=','T1'.'I=','PU'.'V'.'OV'.'ElUWV9UWVBF','RU5USVRZ'.'X0lE',''.'PUV'.'O'.'VElUW'.'V'.'9'.'UWVBF',''.'RU5U'.'SVR'.'ZX0lE','PUhP'.'T0s=','SEVBR'.'EJMT0'.'NL','PUNPREU'.'=','V'.'V'.'NF','P'.'VZBTFVF','W'.'Q==','bGltaXQ=','UFVCT'.'El'.'DX0hUTUx'.'fRE'.'lTQUx'.'MT'.'1dF'.'RFs=','RU5USVRZX1R'.'ZUEU=','RU'.'5'.'USVRZX0'.'lE',''.'X'.'Q='.'=','bGlt'.'aXRfc2l0ZX'.'N'.'faHRtbF9'.'qcw==',''.'bGF'.'uZGluZw='.'=',''.'b25MY'.'W5kaW5nUHVibG'.'ljYXRpb24=','aW'.'Q=',''.'Ym'.'xvY2t'.'JZA==','d'.'HBsQ29kZQ==','VFBMX0NPREU=','Yml0cml4MjQ=','REI=','U0VMRUN'.'UIF'.'ZBT'.'FVFIE'.'ZST'.'0'.'0'.'g'.'Y'.'l9'.'v'.'cHRpb24gV0hFUkUgTkFNRT0nfl'.'BBU'.'kF'.'NX0ZJTklTS'.'F9EQVR'.'F'.'Jy'.'BBTkQg'.'TU9EVUxFX'.'0lEPSdtYWluJw='.'=',''.'VkFMVUU'.'=',''.'Lg='.'=','SC'.'o'.'=','Yml0cml4','TElDRU5TRV9LRV'.'k'.'=','c2'.'h'.'hM'.'j'.'U2','MjA'.'xO'.'C0wM'.'S0wMQ==','MjAx'.'OC0'.'w'.'MS'.'0w'.'MQ==','L'.'Q'.'==',''.'TEl'.'DRU5TRV'.'9F'.'WFBJUk'.'VE','TEFORElO'.'R1'.'9MSUNFT'.'lNFX0VYUE'.'l'.'SRUQ=',''.'Yml0cml4MjQ'.'=','RE'.'I'.'=','U0VMRUNUIFZBTFV'.'F'.'I'.'EZST00gY'.'l9v'.'cH'.'Rpb2'.'4gV0hFUkU'.'gTkFNRT'.'0nflBBUkFNX0ZJT'.'klTSF9E'.'QVRF'.'JyB'.'BTkQgTU9EVUxFX0l'.'EPS'.'dt'.'YW'.'luJw'.'==','Vk'.'FMVUU=','Lg==','S'.'Co=',''.'Yml0cml'.'4',''.'TEl'.'DRU5'.'TRV9LRVk=',''.'c2hhMjU'.'2','MjAxOC0'.'wMS0w'.'MQ==','MjAxOC0w'.'MS0wM'.'Q==','L'.'Q==','TElD'.'RU'.'5'.'TRV9F'.'WFB'.'J'.'UkVE','TEFORElOR'.'19MSUNFTl'.'NFX0V'.'YUE'.'lSR'.'UQ=','QUNU'.'S'.'V'.'Z'.'F','WQ==','UFVCTElD','WQ==','REFU'.'R'.'V9QV'.'UJ'.'MSUM=','REFU'.'R'.'V9NT0RJ'.'Rlk'.'=','QUNU'.'SV'.'ZF','W'.'Q'.'==','LyhbXDs'.'iXXswLDF9KSN'.'ibG9jayhbXGRdKykoW'.'1w'.'mIl17MC'.'w'.'xfS'.'kva'.'XM=',''.'TEl'.'E',''.'PURFTEVUR'.'UQ'.'=','Tg='.'=','SUQ=',''.'c2VsZ'.'WN0','S'.'UQ=',''.'UE'.'FSR'.'U5'.'UX0lE','Zmlsd'.'GVy',''.'SUQ=',''.'SUQ=','SU'.'Q'.'=','UEFSRU5UX0lE','c'.'2V'.'sZWN0','SUQ=','UFVCTElD','UE'.'FS'.'RU5UX'.'0l'.'E','Q'.'09ERQ==','Q09'.'ERV9PUklH'.'SU5BTA'.'==','U'.'09SVA='.'=',''.'QUNUSVZF','QU5DSE9S','QUN'.'DRVNT','Q09OVE'.'V'.'OVA==','U0VB'.'U'.'kNIX'.'0NPTlRF'.'T'.'lQ'.'=','U09VUk'.'N'.'F'.'X1'.'B'.'BUk'.'FN'.'Uw==','QVNTRVRT','WE'.'1MX'.'0lE','REV'.'TS'.'UdORU'.'Q=','ZmlsdGVy','SUQ=',''.'UFV'.'CTElD','WQ='.'=',''.'Q09OVEVOVA='.'=','L2'.'hyZWY9Iihwcm9k'.'dWN'.'0Oik/I'.'2'.'N'.'hdGFsb2co'.'RW'.'xlbWVudHx'.'TZ'.'WN'.'0aW9uKS'.'hbXGRdKykiL2k=',''.'aHJlZ'.'j'.'0i','Ig==','Q'.'09OVEVO'.'VA==',''.'Q'.'09OV'.'EVOVA==','Lyhk'.'YXRhL'.'XBz'.'Z'.'XVkby1'.'1'.'cmw'.'9Intc'.'UyoocH'.'J'.'vZHV'.'jdDopPyNjY'.'XRhbG9nKE'.'V'.'s'.'ZW1lbn'.'R8U'.'2'.'VjdGlvb'.'ikoW1xkXSsp'.'KShcU'.'y'.'p9Iik'.'vaQ==','Lyhwcm9kd'.'WN'.'0Oik/I2NhdGF'.'sb2coRWx'.'lbWVu'.'dHxTZ'.'WN0aW9u'.'KShbXGRdKykvaQ==','Q09OVEVOVA='.'=','Q'.'09'.'O'.'VE'.'VOVA==','Q09OVEV'.'O'.'VA==',''.'Q0'.'9O'.'VEVOVA'.'==','Y2'.'9udG'.'V'.'udGVkaXRhYmxl'.'PS'.'J'.'0cnVl'.'Ig='.'=','','Q0'.'9OVEVOV'.'A==','UEF'.'SRU5UX'.'0lE',''.'UEFSR'.'U5UX0lE','SUQ=','U09'.'SVA='.'=','U09SVA==','QU'.'NUSVZF',''.'QUN'.'USVZF',''.'QU5DS'.'E9S','QU5D'.'SE'.'9'.'S','WE1MX0l'.'E','WE1MX0lE','QUN'.'DR'.'VNT',''.'QU'.'NDRV'.'NT','R'.'EVTSUdOR'.'UQ=','R'.'E'.'V'.'T'.'SU'.'dOR'.'UQ'.'=','U'.'09'.'VU'.'kN'.'F'.'X'.'1BBUkFNUw==','U09VUkNFX1BB'.'UkF'.'NUw==','Q0'.'9OVEVO'.'VA==','Q09OVEVO'.'VA'.'='.'=','U0'.'VBU'.'k'.'N'.'IX0NPTlRFTlQ=','U0VB'.'UkNIX'.'0NPTlRF'.'TlQ=','Q'.'VNTRVRT','QV'.'NTRVRT','UEFS'.'RU5UX0lE','Q09OVE'.'VOVA==','T'.'ElE','Q09ERQ='.'=','Q09'.'ERQ='.'=','Q'.'09ERV9PU'.'klHSU5BTA==','Q09E'.'RV9PUklHSU5BT'.'A==','U09SVA==','U'.'0'.'9S'.'VA==','Q'.'U5DSE9S','QU5D'.'SE9'.'S','Y'.'g'.'==','WE'.'1M'.'X0lE','W'.'E1MX0'.'l'.'E','QUNUSV'.'ZF',''.'QUNU'.'SVZF','Q'.'UNDRV'.'NT','Q'.'UN'.'DRVNT','REVTSUdOR'.'UQ=',''.'REVTSU'.'dO'.'R'.'UQ=','U09VUkNFX'.'1BB'.'UkFNUw'.'==','U09VUkNFX1B'.'B'.'UkFN'.'Uw==',''.'Q'.'09O'.'VEVO'.'VA==','Q'.'09O'.'VEVOVA'.'==','U0VBUkNIX0NPTlRFT'.'lQ=','U0VBUkNIX0NPTlRFT'.'lQ=','Q'.'V'.'NT'.'RVRT','Q'.'VNTR'.'VRT','U'.'EFS'.'RU5UX'.'0'.'l'.'E','Q09OVEV'.'O'.'VA'.'='.'=','Q09OV'.'E'.'VO'.'VA==','Q09'.'O'.'VEV'.'O'.'V'.'A'.'==','Q09'.'OVEVOVA==','I2'.'Jsb2'.'Nr','I'.'2J'.'sb2Nr',''.'Q0'.'9OVEV'.'O'.'VA==');return base64_decode($_465683372[$_1404649582]);}}; use \Bitrix\Landing\Internals\HookDataTable as HookData; use \Bitrix\Landing\Assets; use \Bitrix\Landing\Block\Cache; use \Bitrix\Landing\Restriction; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; use \Bitrix\Main\Web\HttpClient; use \Bitrix\Main\Config\Configuration; use \Bitrix\Rest\AppTable; Loc::loadMessages(__FILE__); $GLOBALS['____1825737848'][0](___1474936361(0), true); class Mutator{  public static function landingPublication(Landing $landing, $_1775359475= null, bool $_844158205= false): bool{ static $_407020697=[]; static $_1394728145=[]; Manager::disableAllFeaturesTmp(); if(!$landing->exist()){ return false;}  $_1617878735= new Event(___1474936361(1), ___1474936361(2), array( ___1474936361(3) => $landing->getId(), ___1474936361(4) => $_1775359475, ___1474936361(5) => $landing->getSiteId())); $_1617878735->send(); foreach($_1617878735->getResults() as $_530703309){ if($_530703309->getType() == EventResult::ERROR){ foreach($_530703309->getErrors() as $_1732076311){ $landing->getError()->addError( $_1732076311->getCode(), $_1732076311->getMessage());} return false;}}  if(\Bitrix\Main\Loader::includeModule(___1474936361(6))){ if(!\CBitrix24::isEmailConfirmed()){ $landing->getError()->addError( ___1474936361(7), Loc::getMessage(___1474936361(8))); return false;}}  if((1016/2-508))  if($_680716613= Configuration::getValue(___1474936361(9))){ $_1800787285=[]; $_1145646257= Block::getList([ ___1474936361(10) =>[ ___1474936361(11)], ___1474936361(12) =>[ ___1474936361(13) => $landing->getId(), ___1474936361(14) => ___1474936361(15), ___1474936361(16) => ___1474936361(17), ___1474936361(18) => ___1474936361(19)]]); while($_128829631= $_1145646257->fetch()){ if($GLOBALS['____1825737848'][1](___1474936361(20), $_128829631[___1474936361(21)], $_138084825)){ $_1800787285= $GLOBALS['____1825737848'][2]($_1800787285, $_138084825[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]);}} $_1800787285= $GLOBALS['____1825737848'][3]($GLOBALS['____1825737848'][4]($_1800787285)); $_156825724= new HttpClient; if($_1800787285){ $_48465597= $_156825724->post(___1474936361(22),[ ___1474936361(23) => $_680716613, ___1474936361(24) => $_1800787285, ___1474936361(25) => \Bitrix\Main\Application::getInstance()->getContext()->getServer()->get(___1474936361(26))]); if($_48465597 && $_48465597 !== ___1474936361(27)){ $landing->getError()->addError( ___1474936361(28), Loc::getMessage(___1474936361(29))); return false;}}}  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___1474936361(30) => array( ___1474936361(31) => $landing->getId())))){ $landing->getError()->addError( ___1474936361(32), Restriction\Manager::getSystemErrorMessage(___1474936361(33))); return false;}  $_713619245= $landing->getMeta(); if( isset($_713619245[___1474936361(34)]) && \Bitrix\Main\Loader::includeModule(___1474936361(35))){ $_1145646257= AppTable::getList([ ___1474936361(36) =>[ ___1474936361(37) => $_713619245[___1474936361(38)]]]); if($_128829631= $_1145646257->fetch()){ $_1289424346= AppTable::getAppStatusInfo($_128829631, ___1474936361(39)); if($_1289424346[___1474936361(40)] != ___1474936361(41)){ $landing->getError()->addError( ___1474936361(42), Restriction\Manager::getSystemErrorMessage(___1474936361(43))); return false;}}}  $_42256097=[]; $_1145646257= Block::getList([ ___1474936361(44) =>[ ___1474936361(45)], ___1474936361(46) =>[ ___1474936361(47) => $landing->getId(), ___1474936361(48) => ___1474936361(49), ___1474936361(50) => ___1474936361(51), ___1474936361(52) => ___1474936361(53), ___1474936361(54) => ___1474936361(55)]]); while($_128829631= $_1145646257->fetch()){ $_42256097[]= $GLOBALS['____1825737848'][5]($_128829631[___1474936361(56)], round(0+5));} if(!empty($_42256097)){ foreach(Repo::getAppInfo($_42256097) as $_1054939072){ if(($_1054939072[___1474936361(57)] ?? ___1474936361(58)) !== ___1474936361(59)){ $landing->getError()->addError( ___1474936361(60), Restriction\Manager::getSystemErrorMessage(___1474936361(61))); return false;}}}  if(!$GLOBALS['____1825737848'][6]($landing->getSiteId(), $_1394728145)){ $_1394728145[]= $landing->getSiteId(); $_1145646257= Site::getList(array( ___1474936361(62) => array( ___1474936361(63), ___1474936361(64)), ___1474936361(65) => array( ___1474936361(66) => $landing->getSiteId(), ___1474936361(67) => ___1474936361(68), ___1474936361(69) => ___1474936361(70)))); if($_128829631= $_1145646257->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE,[ ___1474936361(71) =>[ ___1474936361(72) => $_128829631[___1474936361(73)]], ___1474936361(74) => $_128829631[___1474936361(75)]])){ $_151609033= Manager::licenseIsFreeSite($_128829631[___1474936361(76)]) &&!Manager::isFreePublicAllowed()? ___1474936361(77): ___1474936361(78); $_1892156286= Manager::licenseIsFreeSite($_128829631[___1474936361(79)]) &&!Manager::isFreePublicAllowed()? ___1474936361(80): ___1474936361(81); $landing->getError()->addError( $_151609033, Restriction\Manager::getSystemErrorMessage($_1892156286)); return false;}}}  if(\Bitrix\Landing\Hook\Page\HeadBlock::isLockedFeature()){ $_409441177=[$landing->getId()];  $_1145646257= Landing::getList([ ___1474936361(82) =>[ ___1474936361(83)], ___1474936361(84) =>[ ___1474936361(85) => $landing->getSiteId(), ___1474936361(86) => ___1474936361(87)]]); while($_128829631= $_1145646257->fetch()){ $_409441177[]= $_128829631[___1474936361(88)];} $_1145646257= HookData::getList([ ___1474936361(89) =>[ ___1474936361(90), ___1474936361(91), ___1474936361(92)], ___1474936361(93) =>[[ ___1474936361(94) => ___1474936361(95),[ ___1474936361(96) => Hook::ENTITY_TYPE_SITE, ___1474936361(97) => $landing->getSiteId()],[ ___1474936361(98) => Hook::ENTITY_TYPE_LANDING, ___1474936361(99) => $_409441177]], ___1474936361(100) => ___1474936361(101), ___1474936361(102) => ___1474936361(103), ___1474936361(104) => ___1474936361(105)], ___1474936361(106) => round(0+0.5+0.5)]); if($_128829631= $_1145646257->fetch()){ $landing->getError()->addError( ___1474936361(107). $_128829631[___1474936361(108)]. $_128829631[___1474936361(109)]. ___1474936361(110), Restriction\Manager::getSystemErrorMessage(___1474936361(111))); return false;}}  $_1617878735= new Event(___1474936361(112), ___1474936361(113), array( ___1474936361(114) => $landing->getId(), ___1474936361(115) => $_1775359475, ___1474936361(116) => $_713619245[___1474936361(117)],)); $_1617878735->send(); foreach($_1617878735->getResults() as $_530703309){ if($_530703309->getResultType() == EventResult::ERROR){ foreach($_530703309->getErrors() as $_1732076311){ $landing->getError()->addError( $_1732076311->getCode(), $_1732076311->getMessage());} return false;}} if($_844158205){ return true;} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___1474936361(118))){ $_1274572290= $GLOBALS[___1474936361(119)]->Query(___1474936361(120), true); if($_1145646257= $_1274572290->Fetch()){ $_244462152= $_1145646257[___1474936361(121)]; list($_1128691085, $_2109577701)= $GLOBALS['____1825737848'][7](___1474936361(122), $_244462152); $_1480876440= $GLOBALS['____1825737848'][8](___1474936361(123), $_1128691085); $_365398644= ___1474936361(124).$GLOBALS['____1825737848'][9]($GLOBALS['____1825737848'][10](___1474936361(125))); $_507478903= $GLOBALS['____1825737848'][11](___1474936361(126), $_2109577701, $_365398644, true); if($GLOBALS['____1825737848'][12]($_507478903, $_1480876440) !== min(90,0,30)){ $_2109577701= ___1474936361(127);}} else{ $_2109577701= ___1474936361(128);} if(!empty($_2109577701)){ $_1295584225= $GLOBALS['____1825737848'][13](___1474936361(129), $_2109577701); $_1719436207= $GLOBALS['____1825737848'][14]((1348/2-674),(796-2*398),(1064/2-532), $_1295584225[round(0+0.25+0.25+0.25+0.25)], $_1295584225[round(0+0.66666666666667+0.66666666666667+0.66666666666667)], $_1295584225[min(128,0,42.666666666667)]); if($_1719436207 <= $GLOBALS['____1825737848'][15]()){ $landing->getError()->addError( ___1474936361(130), Loc::getMessage(___1474936361(131))); return false;}}}if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___1474936361(132))){ $_1274572290= $GLOBALS[___1474936361(133)]->Query(___1474936361(134), true); if($_1145646257= $_1274572290->Fetch()){ $_244462152= $_1145646257[___1474936361(135)]; list($_1128691085, $_2109577701)= $GLOBALS['____1825737848'][16](___1474936361(136), $_244462152); $_1480876440= $GLOBALS['____1825737848'][17](___1474936361(137), $_1128691085); $_365398644= ___1474936361(138).$GLOBALS['____1825737848'][18]($GLOBALS['____1825737848'][19](___1474936361(139))); $_507478903= $GLOBALS['____1825737848'][20](___1474936361(140), $_2109577701, $_365398644, true); if($GLOBALS['____1825737848'][21]($_507478903, $_1480876440) !== min(194,0,64.666666666667)){ $_2109577701= ___1474936361(141);}} else{ $_2109577701= ___1474936361(142);} if(!empty($_2109577701)){ $_1295584225= $GLOBALS['____1825737848'][22](___1474936361(143), $_2109577701); $_1719436207= $GLOBALS['____1825737848'][23](min(30,0,10), min(114,0,38),(1376/2-688), $_1295584225[round(0+1)], $_1295584225[round(0+0.5+0.5+0.5+0.5)], $_1295584225[min(208,0,69.333333333333)]); if($_1719436207 <= $GLOBALS['____1825737848'][24]()){ $landing->getError()->addError( ___1474936361(144), Loc::getMessage(___1474936361(145))); return false;}}} if($landing->getFolderId()){ Site::publicationFolder($landing->getFolderId());} if(!$_1775359475){ Hook::setEditMode(); Hook::publicationSite($landing->getSiteId()); Hook::publicationLanding($landing->getId());} Assets\Manager::rebuildWebpackForLanding($landing->getId());  self::blocksPublication($landing, $_1775359475); $_1631422928= new \Bitrix\Main\Type\DateTime; $_1145646257= Landing::update($landing->getId(), array( ___1474936361(146) => ___1474936361(147), ___1474936361(148) => ___1474936361(149), ___1474936361(150) => $_1631422928, ___1474936361(151) => false));  if($_1145646257->isSuccess()){ if(!$GLOBALS['____1825737848'][25]($landing->getSiteId(), $_407020697)){ $_407020697[]= $landing->getSiteId(); $_1145646257= Site::update($landing->getSiteId(), array( ___1474936361(152) => ___1474936361(153))); if(!$_1145646257->isSuccess()){ $landing->getError()->addFromResult( $_1145646257); return false;}} return true;} else{ $landing->getError()->addFromResult( $_1145646257);} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing, $_1775359475= null): void{ if($landing->exist()){ $_1886604863= $landing->getId();  $_772784363= array(); $_128842187= array(); $_1815543795= array(); $_283177796= ___1474936361(154); $_1071057639=[ ___1474936361(155) => $landing->getId(), ___1474936361(156) => ___1474936361(157)]; if($_1775359475){  $_1071057639[___1474936361(158)]= $_1775359475; $_1145646257= Block::getList([ ___1474936361(159) =>[ ___1474936361(160), ___1474936361(161)], ___1474936361(162) => $_1071057639]); $_1071057639[___1474936361(163)]= (array)$_1071057639[___1474936361(164)]; while($_128829631= $_1145646257->fetch()){ $_1071057639[___1474936361(165)][]= $_128829631[___1474936361(166)];}} $_1145646257= Block::getList([ ___1474936361(167) =>[ ___1474936361(168), ___1474936361(169), ___1474936361(170), ___1474936361(171), ___1474936361(172), ___1474936361(173), ___1474936361(174), ___1474936361(175), ___1474936361(176), ___1474936361(177), ___1474936361(178), ___1474936361(179), ___1474936361(180), ___1474936361(181), ___1474936361(182)], ___1474936361(183) => $_1071057639]); while($_128829631= $_1145646257->fetch()){ $_772784363[$_128829631[___1474936361(184)]]= $_128829631;}  foreach($_772784363 as $_502074097 => $_1256118041){ if($_1256118041[___1474936361(185)] != ___1474936361(186)){  $_1256118041[___1474936361(187)]= $GLOBALS['____1825737848'][26]( ___1474936361(188), function($_452998650){ return ___1474936361(189). PublicAction\Utils::getIblockURL( $_452998650[round(0+0.75+0.75+0.75+0.75)], $GLOBALS['____1825737848'][27]($_452998650[round(0+0.66666666666667+0.66666666666667+0.66666666666667)])). ___1474936361(190);}, $_1256118041[___1474936361(191)]);  $_1256118041[___1474936361(192)]= $GLOBALS['____1825737848'][28]( ___1474936361(193), function($_452998650){ $_452998650[round(0+0.2+0.2+0.2+0.2+0.2)]= $GLOBALS['____1825737848'][29]( ___1474936361(194), function($_1572031520){ return PublicAction\Utils::getIblockURL( $_1572031520[round(0+1+1+1)], $GLOBALS['____1825737848'][30]($_1572031520[round(0+1+1)]));}, $_452998650[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]); return $_452998650[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]. $_452998650[round(0+1.25+1.25+1.25+1.25)];}, $_1256118041[___1474936361(195)]);  $_1256118041[___1474936361(196)]= Subtype\Form::prepareFormsToPublication( $_1256118041[___1474936361(197)]);  $_1256118041[___1474936361(198)]= $GLOBALS['____1825737848'][31]( ___1474936361(199), ___1474936361(200), $_1256118041[___1474936361(201)]); $_75332408= isset($_772784363[$_1256118041[___1474936361(202)]])? $_772784363[$_1256118041[___1474936361(203)]][___1474936361(204)]:(910-2*455); if($_75332408){ Cache::clear($_75332408); $_1145646257= Block::update($_75332408, array( ___1474936361(205) => $_1256118041[___1474936361(206)], ___1474936361(207) => $_1256118041[___1474936361(208)], ___1474936361(209) => $_1256118041[___1474936361(210)], ___1474936361(211) => $_1256118041[___1474936361(212)], ___1474936361(213) => $_1256118041[___1474936361(214)], ___1474936361(215) => $_1256118041[___1474936361(216)], ___1474936361(217) => $_1256118041[___1474936361(218)], ___1474936361(219) => $_1256118041[___1474936361(220)], ___1474936361(221) => $_1256118041[___1474936361(222)], ___1474936361(223) => $_1256118041[___1474936361(224)])); $_1145646257->isSuccess(); unset($_772784363[$_1256118041[___1474936361(225)]]);  File::replaceInBlock( $_75332408, File::getFilesFromBlockContent( $_502074097, $_1256118041[___1474936361(226)]));} else{ $_1145646257= Block::add(array( ___1474936361(227) => $_1886604863, ___1474936361(228) => $_1256118041[___1474936361(229)], ___1474936361(230) => $_1256118041[___1474936361(231)], ___1474936361(232) => $_1256118041[___1474936361(233)], ___1474936361(234) => $_1256118041[___1474936361(235)]?: ___1474936361(236). $_502074097, ___1474936361(237) => $_1256118041[___1474936361(238)], ___1474936361(239) => $_1256118041[___1474936361(240)], ___1474936361(241) => $_1256118041[___1474936361(242)], ___1474936361(243) => $_1256118041[___1474936361(244)], ___1474936361(245) => $_1256118041[___1474936361(246)], ___1474936361(247) => $_1256118041[___1474936361(248)], ___1474936361(249) => $_1256118041[___1474936361(250)], ___1474936361(251) => $_1256118041[___1474936361(252)])); if($_1145646257->isSuccess()){ $_75332408= $_1145646257->getId(); $_1145646257= Block::update($_502074097, array( ___1474936361(253) => $_75332408)); $_1145646257->isSuccess();  File::addToBlock( $_75332408, File::getFilesFromBlockContent( $_502074097, $_1256118041[___1474936361(254)]));}} if($_75332408){ $_1397170475= new Block($_75332408); Assets\PreProcessing::blockPublicationProcessing($_1397170475); $_1256118041[___1474936361(255)]= $_1397170475->getContent(); unset($_1397170475);} if($GLOBALS['____1825737848'][32]($_283177796, $_1256118041[___1474936361(256)])){ $_128842187[$_75332408]= $_1256118041[___1474936361(257)];} $_1815543795[$_502074097]= $_75332408; unset($_772784363[$_502074097]);}}  foreach($_772784363 as $_502074097 => $_1256118041){ $_1145646257= Block::delete($_502074097); $_1145646257->isSuccess();}  foreach($_128842187 as $_502074097 => $_730343650){ $_730343650= $GLOBALS['____1825737848'][33]( $_283177796, function($_1283257247) use($_1815543795){ if(isset($_1815543795[$_1283257247[round(0+0.4+0.4+0.4+0.4+0.4)]])){ return $_1283257247[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]. ___1474936361(258). $_1815543795[$_1283257247[round(0+1+1)]]. $_1283257247[round(0+0.6+0.6+0.6+0.6+0.6)];} else{ return $_1283257247[round(0+0.25+0.25+0.25+0.25)]. ___1474936361(259). $_1283257247[round(0+2)]. $_1283257247[round(0+3)];}}, $_730343650); $_1145646257= Block::update($_502074097, array( ___1474936361(260) => $_730343650)); $_1145646257->isSuccess();}}}}?>